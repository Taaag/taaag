<div id="view-me" class="view">
    <div class="row">
        <div class="profile-name">{{ user.name }}</div>
    </div>

    <div class="row" id="myCanvasContainer">
        <!-- <div id="tag-cloud" style="width: 100%; height: 250px;"></div> -->
        <!-- <img class="profile-pic" src="https://graph.facebook.com/{{ user.id }}/picture?type=large" alter="profile pic"> -->


        <!-- new -->
        <canvas width="300" height="300" id="myCanvas">

        </canvas>

        <div id="tags">
         <ul>
        

         {% for key, value in tags.items() %}
         <li> {{ key|tojson|safe }}</li>
         {% endfor %}
        
        </ul>
        </div>
    
    </div>

    <div class="row">
        <button class="profile-view-manage-btn">Manage My Tags</button>
    </div>
</div>

<script>
    // var word_array = [
    //     {% for key, value in tags.items() %}
    //         {text: {{ key|tojson|safe }}, weight: {{ value|length }}, html: {"class": "tag-cloud-tag"}},
    //     {% endfor %}
    // ];

    // $(function () {
    //     $("#tag-cloud").jQCloud(word_array, {
    //         removeOverflowing: true,
    //         shape: 'rectangular',
    //         afterCloudRender: function () {
    //             $(".tag-cloud-tag").hover(function (e) {
    //                 console.log('hover tag ' + e.target);
    //             }).click(function (e) {
    //                 console.log('click tag ' + e.target);
    //             });
    //         }
    //     });
    //     $(".profile-view-manage-btn").click(function () {
    //         $(document).trigger("viewChanging", ["manage", {}]);
    //     });
    // })


    // new

      $(document).ready(function() {
        if(!$('#myCanvas').tagcanvas({
          textColour: '#ff0000',
          outlineColour: '#ff00ff',
          reverse: true,
          depth: 0.8,
          maxSpeed: 0.05
        },'tags')) {
          // something went wrong, hide the canvas container
          $('#myCanvasContainer').hide();
        }
      });
   

</script>